<mxfile host="app.diagrams.net" modified="2024-05-15T20:24:03.117Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36" etag="4nlD55X2ski6oCYWCJBw" version="24.4.0" type="github">
  <diagram name="Page-1" id="uwbZiILdctCbnYLQ1hk4">
    <mxGraphModel dx="2263" dy="1905" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-1" target="Yw_Q09LCCerR5I2cUo6q-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="380" y="210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-1" value="Граф типов, сформированный ранее" style="ellipse;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-60" y="55" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-3" target="Yw_Q09LCCerR5I2cUo6q-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="380" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-3" value="&lt;div style=&quot;text-align: justify; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 14px;&quot;&gt;Создание структур в формате XSD, которые не поддерживаются в XSD по умолчанию для примитивных типов графа:&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;ol style=&quot;font-size: 14px;&quot;&gt;&lt;li style=&quot;text-align: justify; font-size: 14px;&quot;&gt;date-time&lt;/li&gt;&lt;li style=&quot;text-align: justify; font-size: 14px;&quot;&gt;date&lt;/li&gt;&lt;li style=&quot;text-align: justify; font-size: 14px;&quot;&gt;time&lt;/li&gt;&lt;li style=&quot;text-align: justify; font-size: 14px;&quot;&gt;boolean-string&lt;/li&gt;&lt;li style=&quot;text-align: justify; font-size: 14px;&quot;&gt;integer-string&lt;/li&gt;&lt;li style=&quot;text-align: justify; font-size: 14px;&quot;&gt;uri&lt;/li&gt;&lt;li style=&quot;text-align: justify; font-size: 14px;&quot;&gt;null&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;spacingLeft=9;spacingRight=8;" vertex="1" parent="1">
          <mxGeometry x="220" y="-10" width="300" height="210" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-5" target="Yw_Q09LCCerR5I2cUo6q-59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-5" target="Yw_Q09LCCerR5I2cUo6q-79">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1170" y="97.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-5" value="Создаем типовую структуру в XSD для корневого типа графа из переменной topLevels" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="670" y="60" width="200" height="75" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-6" target="Yw_Q09LCCerR5I2cUo6q-25">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="180" y="660" />
              <mxPoint x="390" y="660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-6" value="тип-массив?" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="120" y="415" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-9" target="Yw_Q09LCCerR5I2cUo6q-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-9" value="тип-объект?" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="330" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-10" target="Yw_Q09LCCerR5I2cUo6q-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-10" value="Добавляем в корневую структуру XSD тег xsd:complexType с вложенным xsd:sequence и запоминаем тип-массив по ссылке на тип из графа типов" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;spacingLeft=6;spacingBottom=9;" vertex="1" parent="1">
          <mxGeometry x="590" y="1020" width="220" height="120" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-12" target="Yw_Q09LCCerR5I2cUo6q-37">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="840" as="targetPoint" />
            <Array as="points">
              <mxPoint x="690" y="840" />
              <mxPoint x="420" y="840" />
              <mxPoint x="420" y="890" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-12" target="Yw_Q09LCCerR5I2cUo6q-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-12" target="Yw_Q09LCCerR5I2cUo6q-39">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="690" y="840" />
              <mxPoint x="990" y="840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-12" value="Тип не был обработан ранее" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="575" y="745" width="230" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-17" target="Yw_Q09LCCerR5I2cUo6q-23">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="490" y="1110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-17" target="Yw_Q09LCCerR5I2cUo6q-63">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="850" y="1610" as="targetPoint" />
            <Array as="points">
              <mxPoint x="840" y="1220" />
              <mxPoint x="840" y="1550" />
              <mxPoint x="1250" y="1550" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-17" value="&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 14px;&quot;&gt;Обрабатываем тип элемента массива&lt;/span&gt;&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="531.25" y="1190" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-23" value="&lt;div style=&quot;text-align: justify; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 14px;&quot;&gt;после обработки создаем xsd:element с именем ключа для типа-массива и префиксом &#39;Item&#39;.&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-size: 14px;&quot;&gt;Тип элемента соответствует обработанному типу элемента массива.&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;div style=&quot;text-align: justify; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: initial; font-size: 14px;&quot;&gt;Дополнительно добавляем аттрибуты дополнительно добавляем аттрибуты maxOccurs=unbounded и minOccurs=0&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-size: 14px;&quot;&gt;Элемент располагаем внутри ранее созданного тега xsd:sequence.&amp;nbsp;&lt;/div&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;spacingLeft=8;spacingRight=7;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="462.5" y="1330" width="337.5" height="180" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-25" target="Yw_Q09LCCerR5I2cUo6q-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-25" target="Yw_Q09LCCerR5I2cUo6q-28">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="70" y="870" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-25" value="Обработка сложного типа" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="330" y="740" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-28" target="Yw_Q09LCCerR5I2cUo6q-31">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-20" y="1010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-28" value="Завершение обработки сложного типа" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-80" y="860" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-31" target="Yw_Q09LCCerR5I2cUo6q-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-31" value="Тип не используется внутри типа-массива?" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-155" y="1000" width="270" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-32" value="Записываем информацию, что после обработки типов графа будет создан тег xsd:element в корневой структуре XSD, также запоминаем префиксы до данного обрабатываемого типа и его ключ" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="-115" y="1100" width="190" height="160" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-37" target="Yw_Q09LCCerR5I2cUo6q-47">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-37" value="тип-класс?" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="357.5" y="890" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-38" target="Yw_Q09LCCerR5I2cUo6q-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-38" value="тип-массив?" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="630" y="890" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-39" target="Yw_Q09LCCerR5I2cUo6q-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-39" value="тип-объединение?" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="910" y="890" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-43" target="Yw_Q09LCCerR5I2cUo6q-25">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="640" y="660" />
              <mxPoint x="390" y="660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-43" value="тип-объединение?" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="560" y="420" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-47" target="Yw_Q09LCCerR5I2cUo6q-52">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="390" y="1190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-47" value="Добавляем в корневую структуру XSD тег xsd:complexType с вложенным xsd:all и запоминаем тип-класс по ссылке на тип из графа типов" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="317.5" y="1020" width="222.5" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-52" target="Yw_Q09LCCerR5I2cUo6q-50">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="217.5" y="1100" as="targetPoint" />
            <mxPoint x="390" y="1250" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-50" value="для каждого из свойств типа-класса после обработки создаем xsd:element, ссылающегося на тип обработанного свойства и имеющего название, соответствующее ключу обработанного свойства. Элемент располагаем внутри ранее созданного тега xsd:all" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="110" y="1360" width="260" height="160" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-52" target="Yw_Q09LCCerR5I2cUo6q-80">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="380" y="1235" />
              <mxPoint x="380" y="1550" />
              <mxPoint x="1250" y="1550" />
              <mxPoint x="1250" y="1020" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-52" value="Итерируемся по каждому из свойств типа-класса" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="170" y="1190" width="140" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-53" target="Yw_Q09LCCerR5I2cUo6q-54">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-53" value="Добавляем в корневую структуру XSD тег xsd:simpleType с вложенным xsd:union запоминаем тип-объединение по ссылке на тип из графа типов" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="900" y="1000" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-54" target="Yw_Q09LCCerR5I2cUo6q-58">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1000" y="1340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-80" target="Yw_Q09LCCerR5I2cUo6q-63">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-54" value="Итерируемся по каждому вложенному примитивному типу типа-объединения" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="910" y="1169" width="180" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-58" value="Для каждого из обработанных вложенных примитивных типов создаем тег xsd:simpleType с вложенным xsd:restriction, который, аттрибут base ссылается на примитивный тип, соответствующий текущему обрабатываемому&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="905" y="1340" width="245" height="160" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-59" target="Yw_Q09LCCerR5I2cUo6q-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="280" y="230" />
              <mxPoint x="280" y="310" />
              <mxPoint x="180" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-59" target="Yw_Q09LCCerR5I2cUo6q-9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="280" y="230" />
              <mxPoint x="280" y="310" />
              <mxPoint x="390" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-59" value="Обработка корневого типа для графа" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="695" y="200" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-64" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-63" target="Yw_Q09LCCerR5I2cUo6q-6">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1250" y="350" />
              <mxPoint x="270" y="350" />
              <mxPoint x="270" y="445" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-63" target="Yw_Q09LCCerR5I2cUo6q-9">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="420" y="420" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1250" y="350" />
              <mxPoint x="490" y="350" />
              <mxPoint x="490" y="450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-63" target="Yw_Q09LCCerR5I2cUo6q-43">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1250" y="350" />
              <mxPoint x="770" y="350" />
              <mxPoint x="770" y="450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-63" target="Yw_Q09LCCerR5I2cUo6q-67">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1250" y="350" />
              <mxPoint x="1515" y="350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-63" value="Обработка текущего типа" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1190" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-67" target="Yw_Q09LCCerR5I2cUo6q-68">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-67" value="примитивный тип?" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1430" y="415" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-68" target="Yw_Q09LCCerR5I2cUo6q-70">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-68" value="добавляем тег xsd:element в узел XSD файла, соответствующий родительскому типу, внутри которого используется текущий обрабатываемый тип" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1411" y="510" width="208" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-70" target="Yw_Q09LCCerR5I2cUo6q-71">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-70" value="тип обрабатывается как элемент типа-массива?" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1416" y="685" width="198" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-71" value="Дополнительно к xsd:element добавляем аттрибуты&amp;nbsp;&lt;span style=&quot;text-align: justify; font-size: 14px;&quot;&gt;maxOccurs=unbounded и minOccurs=0&lt;/span&gt;&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1397.5" y="780" width="235" height="95" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=14;" edge="1" parent="1" source="Yw_Q09LCCerR5I2cUo6q-79" target="Yw_Q09LCCerR5I2cUo6q-82">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-79" value="Завершение обработки типов" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1110" y="67.5" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-80" value="Для сложных типов передаем также префикс пути до текущего типа, сформированный на основе ключей от корневой структуры до текущего обрабатываемого типа" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1125" y="880" width="250" height="110" as="geometry" />
        </mxCell>
        <mxCell id="Yw_Q09LCCerR5I2cUo6q-82" value="Создаем множество тегов xsd:element в корневой структуре XSD, соответствующие ранее запомненным элементам для создания из сложных типов. Для избежания коллизий если елементы совпадают по ключу, к нему добавляется префикс, который соответствует пути до обработанного сложного типа, на основе которого создается элемент" style="rounded=1;whiteSpace=wrap;html=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="1350" y="7.5" width="280" height="180" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
